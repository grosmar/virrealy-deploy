<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="output2">
</div>

<canvas id="myCanvas" width="720" height="1280" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.</canvas>


<script>
    var x = 720/2;
    var y = 1280/2;

    var vx = 0;
    var vy = 0;
    var friction = 0.85;

    var c = document.getElementById("myCanvas");
    var ctx = c.getContext("2d");
    ctx.beginPath();
    ctx.moveTo(x, y);

    if (window.DeviceMotionEvent) {
        window.addEventListener("devicemotion", function(event) {
           console.log(event.acceleration);
            document.getElementById("output2").innerHTML = "acceleration x: " + Math.round(event.acceleration.x) +
                    "y: " + Math.round(event.acceleration.y) + " z: " + Math.round(event.acceleration.z) +
                    " / interval " +
                    event.interval;
            
            vx += event.acceleration.x/3;
            vy += event.acceleration.y/3;

            vx *= friction;
            vy *= friction;

            x -= Math.abs(vx) > 1 ? vx : 0;
            y += Math.abs(vy) > 1 ? vy : 0;

//            x -= Math.abs(event.acceleration.x) > 1 ? event.acceleration.x : 0;
//            y += Math.abs(event.acceleration.y) > 1 ? event.acceleration.y : 0;

            ctx.lineTo(x, y);
            ctx.stroke();
        }, true);
    } else {
        document.getElementById("doEvent").innerHTML = "devicemotion Not supported."
    }
</script>
</body>
</html>